jQuery(document).ready(function(t){!function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};window.requestAnimationFrame=t}();var e=document.getElementById("shootingCanvas"),i=document.getElementById("bgCanvas"),n=(e.getContext("2d"),i.getContext("2d")),a=i.getContext("2d"),o=window.innerWidth,h=document.body.offsetHeight;h<200&&(h=200),e.width=i.width=o,e.height=i.height=h;var s=[],r=140,d=Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)));s[0]=h-Math.random()*h/2-r,s[d]=h-Math.random()*h/2-r;for(var m=1;m<d;m*=2){for(var u=d/m/2;u<d;u+=d/m)s[u]=(s[u-d/m/2]+s[u+d/m/2])/2+Math.floor(Math.random()*-r+r);r*=.6}function f(t){this.size=2*Math.random(),this.speed=.03*Math.random(),this.x=t.x,this.y=t.y,this.initiazed=!1}function l(){this.reset()}f.prototype.reset=function(){this.size=2*Math.random(),this.speed=.1*Math.random(),this.x=o,this.y=Math.random()*h},f.prototype.update=function(){n.fillRect(this.x,this.y,this.size,this.size)},l.prototype.reset=function(){this.x=Math.random()*o,this.y=0,this.len=80*Math.random()+10,this.speed=10*Math.random()+6,this.size=1*Math.random()+.1,this.waitTime=(new Date).getTime()+3e3*Math.random()+500,this.active=!1},l.prototype.update=function(){this.active?(this.x+=this.speed,this.y+=this.speed,this.x>=o||this.y>=h?this.reset():(a.lineWidth=this.size,a.beginPath(),a.moveTo(this.x,this.y),a.lineTo(this.x-this.len,this.y-this.len),a.stroke())):(a.stroke(),this.waitTime<(new Date).getTime()&&(this.active=!0))};var w=[],c=[];for(m=0;m<h;m++)w.push(new f({x:Math.random()*o,y:Math.random()*h}));c.push(new l),c.push(new l);var g=0,y=!1;!function e(){if(1!=y){n.fillStyle="rgba(0, 0, 0, 0.01)",n.fillRect(0,0,o,h),n.fillStyle="rgba(255, 255, 255, 1)",n.strokeStyle="rgba(255, 255, 255, 1)";for(var i=w.length;i--;)w[i].update();for(var a=c.length;a--;)c[a].update();350==g?(g=0,t(".bgCanvas, .shootingCanvas").fadeOut(2500,function(){n.clearRect(0,0,o,h),t(this).fadeIn(2500)})):(g++,y=!1),requestAnimationFrame(e)}}()});